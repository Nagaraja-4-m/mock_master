{% extends '/student/student_base.html' %}
{% block content %}

<head>

    <style>
        .cards{
   border: 10px;
   background-color: white;
   padding: 28px;
   width:100%;
   height:25%;
   margin: 10px;
   border-radius: 26px;
   box-shadow: -6px -2px;
   
 }
 .cards-title
 {
     text-align: center;
     margin-top: -20px;
     text-transform: uppercase;
     letter-spacing: 7px;
 }

 body
 {
   background-color: rgba(227, 232, 236, 0.979);
   font-family: Georgia, serif;
   
 }

 </style>
</head>

<body>
    <div class="container">
        <div class="cards">
            <br/>
            <h2 class="cards-title">Profile</h2>
            <br/>

            <div class="table-responsive">
                <table class="table table-bordered">
                    <tbody>
                        <tr>
                            <th>
                                Name
                            </th>
                            <th>{{ details[0] }}</th>
                        </tr>
                        <tr>
                            <th>
                                Gender
                            </th>
                            <th>{{ details[1] }}</th>
                        </tr>
                        <tr>
                            <th>
                                Mobile
                            </th>
                            <th>{{ details[2] }}</th>
                        </tr>
                        <tr>
                            <th>
                                Email
                            </th>
                            <th>{{ details[3] }}</th>
                        </tr>
                        <!-- <tr>
                            <th>
                                Tests
                            </th>
                            <th>
                            {% set all_tests=details[4].split(':::') %}
                            
                            {% if all_tests[0]|length >0 %}                  
                                <table class="table table-bordered">
                                    <thead>
                                        <tr>
                                            <th>Subject</th>
                                            <th>Obtained marks</th>
                                            <th>Total marks</th>
                                            <th>Result</th>
                                        </tr>
                                    </thead>
                                {% for i in all_tests %}
                                
                                    <tr>
                                        {% for j in i.split(',') %}
                                            <th>{{j}}</th>
                                        {% endfor %}
                                        <th>%</th>
                                    </tr>
                                {% endfor %}
                                </table>
                                    <button onclick="xyz" type="submit" class="btn btn-primary  button"  value="View graphicaly">view graphically</button>
                            {% elif all_tests[0]|length==0 %}
                                No participations yet.
                            {% endif %}
                           </th>  
                        </tr> -->
                        <!--tr>
                            <th></th>
                            <th> <a href="{{ url_for('student_profile_edit')}}"> <button type="submit" class="btn btn-primary  button"  >EDIT PROFILE</button></a></th>
                        </tr-->     
                        </tbody>
                    </table>
                </div>
                <br/>

                <h3 class="cards-title">TEST</h3>
                 {% set all_tests=details[4].split(':::') %}
                    {% if all_tests[0]|length >0 %} 
                        <div class="table-responsive" style="margin-left: 46px;margin-right: 46px;">
                            <table class="table table-bordered table-hover" >
                                
                                <thead>
                                    <tr>
                                        <th>Subject</th>
                                        <th>Obtained marks</th>
                                        <th>Total marks</th>
                                        <th>Result (in %)</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% set total_len= all_tests|length %}
                                    {% for i in all_tests[:total_len-1] %}
                                        <tr>
                                            {% for j in i.split(',') %}
                                                <th>{{j}}</th>
                                            {% endfor %}
                                            <th>{{"{:.2f}".format((i.split(',')[1]|float / i.split(',')[2] |float)*100) }} </th>
                                        </tr>
                                        {% endfor %}
                                    <!--tr>
                                        <th></th>
                                        <th> <a href="{{ url_for('student_profile_edit')}}"> <button type="submit" class="btn btn-primary  button"  >EDIT PROFILE</button></a></th>
                                    </tr-->    
                                    <tr>
                                        <th colspan="4" style="text-align: center;">
                                            <button onclick="xyz" type="submit" class="btn btn-primary  button "  value="View graphicaly" style="width: 40%;font-weight:bold;text-transform: capitalize; letter-spacing:3.4px;" disabled>view graphically</button> 
                                        </th>
                                    </tr> 
                                    </tbody>
                                </table>
                         
                        
                        </div>

                    {% elif all_tests[0]|length==0 %}
                                <br/>
                                    <p style="font-weight: bold;text-align:center;">No participations yet.</p>
                      {% endif %} 
        </div>
    </div>
</body>
{% endblock content %}